import pandas as pd
from sklearn.linear_model import LogisticRegression
import pickle

# 1. Load your CSV
df = pd.read_csv('trades.csv')

# 2. Select the features your model will use:
#    e.g. ['score', 'atr', 'iv', 'delta_oi', 'pcr']
#    Make sure your trades.csv has columns for each.
features = ['score', 'atr', 'iv', 'delta_oi', 'pcr']
X = df[features]
y = df['label']  # 1 = win, 0 = loss

# 3. Train a simple logistic‑regression model
model = LogisticRegression(max_iter=1000)
model.fit(X, y)

# 4. Serialize (pickle) the model
with open('model.pkl', 'wb') as f:
    pickle.dump(model, f)

print("✅ model.pkl created!")
