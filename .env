# --- Zerodha ---
ZERODHA_API_KEY=9a6h8ko5o1myv0hp
ZERODHA_API_SECRET=9yuor4cxqou1a9t3hkh4wsg1oz64hbsg
# Prefer this:
KITE_ACCESS_TOKEN=XydYRHnprdiUjL6YOHtMIWFJVArEbeZp
# (legacy) If you still have old setups:
ZERODHA_ACCESS_TOKEN=XydYRHnprdiUjL6YOHtMIWFJVArEbeZp

# --- Telegram ---
TELEGRAM_BOT_TOKEN=7962917167:AAEgUdBKEznk8LRVm73RhXkTWzJ8CAX8GfI
TELEGRAM_CHAT_ID=6931456598

# ==== CORE TOGGLES ====
ENABLE_LIVE_TRADING=true
ENABLE_TELEGRAM=true
ALLOW_OFFHOURS_TESTING=false

# ==== SYMBOLS / INSTRUMENTS ====
SPOT_SYMBOL=NSE:NIFTY 50
TRADE_SYMBOL=NIFTY
TRADE_EXCHANGE=NFO
INSTRUMENT_TOKEN=256265
NIFTY_LOT_SIZE=75
MIN_LOTS=1
MAX_LOTS=5
MAX_CONCURRENT_TRADES=1

# ==== STRATEGY & DATA ====
HISTORICAL_TIMEFRAME=minute
DATA_LOOKBACK_MINUTES=90
WARMUP_BARS=20
BASE_STOP_LOSS_POINTS=20.0
BASE_TARGET_POINTS=40.0
CONFIDENCE_THRESHOLD=6.0
MIN_SIGNAL_SCORE=5.0
TIME_FILTER_START=09:15
TIME_FILTER_END=15:15
ATR_SL_MULTIPLIER=1.5
ATR_TP_MULTIPLIER=3.0
SL_CONFIDENCE_ADJ=0.2
TP_CONFIDENCE_ADJ=0.3

# ==== OPTIONS & STRIKE SELECTION ====
OPTION_TYPE=BOTH
STRIKE_SELECTION_TYPE=OI_DELTA
STRIKE_RANGE=4
OPTION_SL_PERCENT=0.05          # 5% SL (if used by executor/strategy)
OPTION_TP_PERCENT=0.15          # 15% TP1 (if used)
OPTION_BREAKOUT_PCT=0.01
OPTION_SPOT_TREND_PCT=0.005

# ==== SPREAD GUARD ====
SPREAD_GUARD_MODE=RANGE         # use LTP_MID in live if depth OK
SPREAD_GUARD_BA_MAX=0.012       # 1.2% (for LTP_MID)
SPREAD_GUARD_LTPMID_MAX=0.015   # 1.5% (for LTP_MID)
SPREAD_GUARD_PCT=0.02           # legacy RANGE proxy

# ==== RISK & MONEY MGMT ====
RISK_PER_TRADE=0.01
MAX_DRAWDOWN=0.05               # risk module internal
CONSECUTIVE_LOSS_LIMIT=3
MAX_DAILY_DRAWDOWN_PCT=0.03     # circuit breaker (RealTimeTrader)
CIRCUIT_RELEASE_PCT=0.015

# ==== EXECUTION DEFAULTS ====
DEFAULT_PRODUCT=MIS
DEFAULT_ORDER_TYPE=MARKET
DEFAULT_VALIDITY=DAY
PREFERRED_EXIT_MODE=REGULAR
TICK_SIZE=0.05
SLIPPAGE_BPS=4.0
FEES_PER_LOT=25.0
TRAILING_ENABLE=true
TRAIL_COOLDOWN_SEC=12

# ==== PARTIAL TP / TP2 / BREAKEVEN / HARD STOP ====
PARTIAL_TP_ENABLE=true
PARTIAL_TP_RATIO=0.5            # 50% quantity at TP1
PARTIAL_TP_PERCENT=0.15         # TP1 distance as % (if your code uses %)
PARTIAL_TP2_R_MULT=2.0          # TP2 at 2R (second target)
BREAKEVEN_AFTER_TP1_ENABLE=true
BREAKEVEN_OFFSET_TICKS=1
HARD_STOP_ENABLE=true
HARD_STOP_GRACE_SEC=3.0
HARD_STOP_SLIPPAGE_BPS=5

# ==== HOUSEKEEPING / LOGGING ====
BALANCE_LOG_INTERVAL_MIN=30
LOG_LEVEL=DEBUG
LOG_FILE=/tmp/trades.csv
