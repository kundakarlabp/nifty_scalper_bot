# ðŸ”‘ Zerodha (required in live mode)
ZERODHA_API_KEY=9a6h8ko5o1myv0hp
ZERODHA_API_SECRET=9yuor4cxqou1a9t3hkh4wsg1oz64hbsg
ZERODHA_ACCESS_TOKEN=8fApNwGlEJIP6wsFZ6zGM5Tsg8HLSne8

# ðŸ“² Telegram (optional; disable until ready)
TELEGRAM_ENABLED=true
TELEGRAM_BOT_TOKEN=7962917167:AAGyIOqZJLq-TKz-ozZODcDT4syeVWFIybU
TELEGRAM_CHAT_ID=6931456598

# ===== Core =====
TRADING_ENV=production
ENABLE_LIVE_TRADING=true            # set false to paper-trade
ALLOW_OFFHOURS_TESTING=false
LOG_LEVEL=INFO

# ===== Zerodha (required only when ENABLE_LIVE_TRADING=true) =====
ZERODHA__API_KEY=your_api_key
ZERODHA__API_SECRET=your_api_secret
ZERODHA__ACCESS_TOKEN=your_access_token

# ===== Telegram (optional) =====
TELEGRAM__ENABLED=true
TELEGRAM__BOT_TOKEN=your_bot_token
TELEGRAM__CHAT_ID=your_chat_id

# ===== Data / Time Window =====
DATA__LOOKBACK_MINUTES=30
DATA__TIMEFRAME=minute
DATA__TIME_FILTER_START=09:20       # IST
DATA__TIME_FILTER_END=15:20         # IST
DATA__CACHE_ENABLED=true
DATA__CACHE_TTL_SECONDS=60

# ===== Instruments (NIFTY) =====
INSTRUMENTS__SPOT_SYMBOL=NSE:NIFTY 50
INSTRUMENTS__TRADE_SYMBOL=NIFTY
INSTRUMENTS__TRADE_EXCHANGE=NFO
INSTRUMENTS__INSTRUMENT_TOKEN=256265
INSTRUMENTS__NIFTY_LOT_SIZE=75      # confirmed
INSTRUMENTS__STRIKE_RANGE=0
INSTRUMENTS__MIN_LOTS=1
INSTRUMENTS__MAX_LOTS=10

# ===== Strategy =====
STRATEGY__MIN_SIGNAL_SCORE=3
STRATEGY__CONFIDENCE_THRESHOLD=55
STRATEGY__MIN_BARS_FOR_SIGNAL=50
STRATEGY__EMA_FAST=9
STRATEGY__EMA_SLOW=21
STRATEGY__RSI_PERIOD=14
STRATEGY__BB_PERIOD=20
STRATEGY__BB_STD=2
STRATEGY__ATR_PERIOD=14
STRATEGY__ATR_SL_MULTIPLIER=1.3
STRATEGY__ATR_TP_MULTIPLIER=2.2
STRATEGY__RR_MIN=1.30               # NEW: block if RR below this

# ===== Risk (live-equity with safe fallback) =====
RISK__USE_LIVE_EQUITY=true          # NEW: size from broker equity
RISK__DEFAULT_EQUITY=30000          # fallback if fetch fails
RISK__MIN_EQUITY_FLOOR=25000        # block sizing below this
RISK__RISK_PER_TRADE=0.01           # 1% of equity per trade
RISK__MAX_TRADES_PER_DAY=12
RISK__CONSECUTIVE_LOSS_LIMIT=3
RISK__MAX_DAILY_DRAWDOWN_PCT=0.04
RISK__MAX_POSITION_SIZE_PCT=0.10
RISK__EQUITY_REFRESH_SECONDS=60     # NEW: equity cache cadence (s)

# ===== Execution =====
EXECUTOR__EXCHANGE=NFO
EXECUTOR__ORDER_PRODUCT=NRML
EXECUTOR__ORDER_VARIETY=regular
EXECUTOR__ENTRY_ORDER_TYPE=LIMIT
EXECUTOR__TICK_SIZE=0.05
EXECUTOR__EXCHANGE_FREEZE_QTY=1800
EXECUTOR__PREFERRED_EXIT_MODE=REGULAR
EXECUTOR__USE_SLM_EXIT=true
EXECUTOR__PARTIAL_TP_ENABLE=true
EXECUTOR__TP1_QTY_RATIO=0.5
EXECUTOR__BREAKEVEN_TICKS=2
EXECUTOR__ENABLE_TRAILING=true
EXECUTOR__TRAILING_ATR_MULTIPLIER=1.4
EXECUTOR__FEE_PER_LOT=20
EXECUTOR__SLIPPAGE_TICKS=1          # NEW: only affects paper-mode math/logs

# ===== Monitoring / System =====
HEALTH__ENABLE_SERVER=true
HEALTH__PORT=8000
SYSTEM__MAX_API_CALLS_PER_SECOND=8
SYSTEM__WEBSOCKET_RECONNECT_ATTEMPTS=5
SYSTEM__ORDER_TIMEOUT_SECONDS=30
SYSTEM__POSITION_SYNC_INTERVAL=60