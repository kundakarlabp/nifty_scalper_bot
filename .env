# -----------------------------------------------------------------------------
# API Credentials (Required)
# -----------------------------------------------------------------------------
ZERODHA__API_KEY=1eivn6p4vzpucngl
ZERODHA__API_SECRET=7k6x2gpepggreapkv0rbe0u8uuk0xz2a
ZERODHA__ACCESS_TOKEN=E5CTQ3TatWcKEk481O8kzwdw7V0cTJph

# -----------------------------------------------------------------------------
# Telegram Notifications (Required)
# -----------------------------------------------------------------------------
TELEGRAM__ENABLED=true
TELEGRAM__BOT_TOKEN=7962917167:AAGyIOqZJLq-TKz-ozZODcDT4syeVWFIybU
TELEGRAM__CHAT_ID=6931456598

# -----------------------------------------------------------------------------
# Application Mode / Logging
# -----------------------------------------------------------------------------
# Set to false to run in paper trading mode
ENABLE_LIVE_TRADING=true
ALLOW_OFFHOURS_TESTING=true
LOG_LEVEL=INFO
TZ="Asia/Kolkata"

# -----------------------------------------------------------------------------
# Trading Window (IST, HH:MM)
# -----------------------------------------------------------------------------
DATA__TIME_FILTER_START=06:20
DATA__TIME_FILTER_END=01:25

# -----------------------------------------------------------------------------
# Data / Warmup
# -----------------------------------------------------------------------------
WARMUP_BARS=15
# Longer startup history avoids off-by-one misses when you launch mid-minute
DATA__LOOKBACK_MINUTES=15
HISTORICAL_TIMEFRAME=minute
# Allow fetching pre-open candles
DATA__CLAMP_TO_MARKET_OPEN=false

# -----------------------------------------------------------------------------
# Strategy Tuning
# -----------------------------------------------------------------------------
STRATEGY__MIN_SIGNAL_SCORE=5.0
STRATEGY__CONFIDENCE_THRESHOLD=6.0
STRATEGY__MIN_BARS_FOR_SIGNAL=15
STRATEGY__EMA_FAST=9
STRATEGY__EMA_SLOW=21
STRATEGY__RSI_PERIOD=14
STRATEGY__BB_PERIOD=20
STRATEGY__BB_STD=2.0
STRATEGY__ATR_PERIOD=14
STRATEGY__ATR_SL_MULTIPLIER=1.5
STRATEGY__ATR_TP_MULTIPLIER=3.0
STRATEGY__RR_MIN=1.30

# External strategy configuration
STRATEGY_CONFIG_FILE=config/strategy.yaml

# Underlying & strikes
INSTRUMENTS__SPOT_SYMBOL="NSE:NIFTY 50"
INSTRUMENTS__STRIKE_RANGE=3

# -----------------------------------------------------------------------------
# Risk Management
# -----------------------------------------------------------------------------
RISK__MAX_DAILY_DRAWDOWN_PCT=0.1
RISK__MAX_TRADES_PER_DAY=15
RISK__CONSECUTIVE_LOSS_LIMIT=3
RISK__RISK_PER_TRADE=0.5
RISK__MAX_POSITION_SIZE_PCT=0.55
RISK__ALLOW_MIN_ONE_LOT=true
EXPOSURE_CAP_SOURCE=equity
EXPOSURE_CAP_PCT_OF_EQUITY=0.55
INSTRUMENTS__MIN_LOTS=1
INSTRUMENTS__MAX_LOTS=10

# -----------------------------------------------------------------------------
# Execution (optional)
# -----------------------------------------------------------------------------
INSTRUMENTS__TRADE_SYMBOL="NIFTY"
INSTRUMENTS__TRADE_EXCHANGE="NFO"
INSTRUMENTS__INSTRUMENT_TOKEN=256265
EXECUTOR__EXCHANGE_FREEZE_QTY=1800
EXECUTOR__TICK_SIZE=0.05

# -----------------------------------------------------------------------------
# Monitoring / System
# -----------------------------------------------------------------------------
SYSTEM__LOG_BUFFER_CAPACITY=4000
# Health server (optional)
HEALTH_HOST=0.0.0.0
HEALTH_PORT=8000
# Legacy tuning knobs
DIAG_INTERVAL_SECONDS=60
MIN_PREVIEW_SCORE=8
ACK_TIMEOUT_MS=1500
FILL_TIMEOUT_MS=10000
RETRY_BACKOFF_MS=200
MAX_PLACE_RETRIES=2
MAX_MODIFY_RETRIES=2
PLAN_STALE_SEC=20
